<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="../../css/estilos.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.0/dist/sweetalert2.min.css" rel="stylesheet"></link>
        <title>Compra Exitosa</title>
    </head>
    <!--se viene un lindo javascript inline <3 -->
    <body class="container-fluid p-0" onload="ticketFinal();">
    <!--encabezado-->
    <header class="container-fluid pe-0 ps-0">
        <nav class="navbar navbar-expand-fluid navbar-light d-flex justify-content-evenly">
          <div class="pe-0 ps-0 d-flex">
            <a class="navbar-brand" href="../../index.html"><img src="../../images/cofre.png" alt="cofre" style="transform: translate(-12px,-6px); width: 54px;"></a>
            <!--esta parte de la barra de busqueda esta solo por estetica, pero... si tuviera que buscar los productos que tengo cargados DESDE javascript y solo en javascript... podria subir un video a su canal de como hacerlo profe?? lo sigo en youtube :3 -->
            <form class="d-flex barra_buscar">
              <input style="transform: translate(0px,6px);" class="form-control me-2 busqueda" type="search" placeholder="Buscar" aria-label="Search">
              <button style="transform: translate(0px,5px); width: 34px; height: 35px;" class="btn bg-warning" type="submit"><iconify-icon icon="ph:magnifying-glass" style="transform: translate(-3px,3px); width: 34px; height: 35px;"></iconify-icon></button>
            </form>
            <div class="d-flex pt-2 ps-2">
              <a id="botonaso" title="Ver Menu"></a>
            </div>
            <div class="d-flex pt-2 ps-2">
              <a href="../../paginas/carrito/carrito.html" id="boton_carrito2" title="Ver Carrito"></a>
            </div>
          </div>
          <div class="border border-1 border-secondary collapse navbar-collapse flex-column" id="navbarNav" style="z-index: 20; position:relative; background-color:#ffc518;">
            <ul class="navbar-nav">
              <li class="text-center nav-item border-bottom border-secondary">
                  <a class="nav-link active" aria-current="page" href="../../ver_producto.html">PRODUCTOS</a>
              </li>
              <li class="text-center nav-item border-bottom border-secondary">
                  <a class="nav-link active" aria-current="page" href="../../paginas/carrito/error.html">LOCALES</a>
              </li>
              <li class="text-center nav-item">
                  <a class="nav-link active" aria-current="page" href="../../paginas/carrito/error.html">NOSOTROS</a>
              </li>
            </ul>
          </div>
        </nav>
      </header>
        <!--fondo de inicio-->
        <main class="container py-3">
            <h1 id="titulo_encabezado" class="text-center display-6">¡GRACIAS POR SU COMPRA!</h1>
        </main>
        <article>
          <!--a partir de aca, quise aplicar algo de javascript inline, solo por practica-->  
          <div id="numeroCompra"></div>
            <script>
              let numeroNota = Math.round(Math.random() * 10000);
              const numeroMostrar = {
                  numeroNota:numeroNota++
              }
    
              const ticketFinal = () => {
                  let numeroCompra = document.getElementById("numeroCompra");
                  let mensaje3 =  `<div class="alert alert-success" role="alert">
                  <p><b>Su orden se ha cargado completamente en nuestra base de datos. En los proximos 7 dias estara llegando el pedido a su centro de entregas local.</b></p>
                  <p>Su Numero de Compra es: <b>${numeroMostrar.numeroNota}</b></p>
                  <p>Recuerde presentarse con su DNI y con su Numero de Compra al retirar su pedido.</p>
                  </div><br>`
                  numeroCompra.innerHTML = mensaje3;
                  //notificacion gloriosa
                  Swal.fire({
                    title: '¡COMPRA EXITOSA!',
                    text: '¡Tu compra ha sido realizda con Exito!',
                    imageUrl: 'https://picsum.photos/id/660/367/267',
                    imageWidth: 400,
                    imageHeight: 300,
                    imageAlt: 'Custom image',
                    showConfirmButton: false,
                    timer: 3000
                  })
                  //una vez terminado todo el chiche, se borran todos los productos seleccionados del carrito
                vaciarCarrito();
              }
            </script>
            <!--Aca regalito pokemon :) -->
            <div class="container">
                <h4 class="text-center container fw-bold">¡Te dejamos un Pokemon para que te acompañe en tu espera!</h4>         
                <div id="tarjetaPokemon" class="text-center container" style="width: 18rem;"></div>
            </div>

            <br>
            <div class="text-center container">
              <a href="../../index.html" class="text-center container "><button type="button" id="volverInicio" class="btn btn-primary fs-4 text-center">Volver a Inicio</button></a>
            </div>
        </article>
        <footer class="container py-3">
          <hr>
          <div class="row">
            <div class="col-md-8 d-flex align-items-center">
              <ul class="nav">
                <li class="nav-item">
                  <a class="nav-link text-secondary active" aria-current="page" href="../../paginas/carrito/error.html">POLITICA DE PRIVACIDAD</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link text-secondary active" aria-current="page" href="../../paginas/carrito/error.html">DEFENSA DEL JUGADOR</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link text-secondary active" aria-current="page" href="../../paginas/carrito/error.html">CONTACTO</a>
                </li>
              </ul>
            </div>
            <div class="col-md-4 d-flex align-items-center justify-content-end">
                <span class="text-secondary"><img src="../../images/cofre.png" width="32" alt="Logo">TIENDA PIXEL 2022</span>
            </div>
          </div>
        </footer>
        <script src="https://code.iconify.design/iconify-icon/1.0.1/iconify-icon.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="../../js/productos.js"></script>
        <script src="../../js/carrito2.js"></script>
        <script src="../../js/main_carrito.js"></script>
        <script src="../../js/poke.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.0/dist/sweetalert2.all.min.js"></script>
    </body>
</html>
